# Weekly Report (27 Oct – 3 Nov 2025)

##  Overview
This week focused on exploring **Molecule encoding specifications**, **data type definitions**, and their implementation within **CKB and CCC JavaScript SDK**.  
The work involved deep reading, summarization, and hands-on understanding of how CKB serializes and deserializes structured data for smart contracts and transactions.

---

##  Monday, Oct 27 — Encoding Specifications
Started the week studying the **Encoding Spec with Examples** document.  
Learned how Molecule organizes data into **fixed-size** and **dynamic-size** categories, each following specific memory layouts (header and body).  
Explored the concept of **type headers** (32-bit little-endian integers) and how Molecule serialization maintains strict data consistency across languages.

---

## Tuesday, Oct 28 — Primitive & Composite Data Types
Focused on **primitive** and **composite** Molecule types:  
- **Primitive:** `byte`  
- **Composite:** arrays and structs

Recreated examples such as `array [byte; 3]` and `struct ByteAndUint32`.  
Understood that **arrays** store items consecutively (no overhead), while **structs** serialize all fields linearly, creating compact binary representations.  
Learned that Molecule serialization is deterministic and portable across different platforms.

---

##  Wednesday, Oct 29 — Vectors and Dynamic Data
Shifted focus to **vectors**, both **fixvec** and **dynvec**.  
- **Fixvec:** dynamic-size vector with *fixed-size* inner items  
- **Dynvec:** dynamic-size vector with *variable-size* inner items

Ran through encoding examples for `BytesVec` and understood how **offset tables** and **full size** values define boundaries for each element in the structure.  
Learned how Molecule guarantees structured reading of complex nested data types using offset-based layouts.

---

##  Thursday, Oct 30 — Tables, Options, and Unions
Explored three major dynamic data abstractions:  
- **Table** – like `dynvec` but with a fixed field count  
- **Option** – may contain a value or be empty (zero bytes)  
- **Union** – stores one variant among multiple possible data types, preceded by a 32-bit type ID

Studied practical serialization examples like `MixedType` and `HybridBytes`, observing how Molecule uses offsets and headers to ensure interoperability and compactness.

---

##  Friday, Oct 31 — The RPG Schema Example
Dived into the **role-playing game (RPG)** Molecule schema example.  
This included defining data schemas for **Basic Types**, **Attributes**, **Roles**, and **Skills**:  
- Defined fixed arrays like `AttrValue [byte; 1]` and `SkillLevel [byte; 1]`  
- Built composite structures like `Hero` and `Monster` tables using `Attributes` and `Skills`  
- Learned how Molecule’s type safety ensures data consistency (e.g., aliasing `byte` as `AttrValue` adds compile-time safety)

This example clarified how Molecule models can represent **real-world entities** (RPG roles) while maintaining low-level control over serialization.

---

##  Saturday, Nov 1 — CCC Molecule SDK (JavaScript)
Practiced with **CCC Molecule SDK** inside JavaScript.  
Used `@ckb-ccc/core` and `@ckb-ccc/shell` modules to encode and decode Molecule data structures such as arrays, tables, and structs.  

Tested a basic example:
```js
ccc.mol.struct({ a: ccc.mol.Byte4, b: ccc.mol.Byte4 });
```

Explored advanced patterns with:
- `ccc.mol.union`
- `ccc.mol.vector`
- `ccc.mol.option`

Gained understanding of how CCC provides higher-level abstractions for Molecule serialization, making it easier to integrate within dApps.

---

##  Sunday, Nov 2 — Signing Transactions in CKB
Studied CKB transaction signing — both **P2PKH** and **multisig** modes.  
Read through pseudocode to understand how **witnesses** and **input groups** are structured for signature verification.

**Key insights:**
- Inputs are grouped by `lock.script_hash`.  
- Each group requires one corresponding witness with a valid signature.  
- Multisig requires a predefined script: `S | R | M | N | blake160(pubkey1..n)`.  
- The witness field stores serialized `WitnessArgs` for lock and type script isolation.

This knowledge ties directly into how Molecule-encoded data structures integrate within transaction verification and smart contract execution.

---

##  Monday, Nov 3 — Final Review
Concluded the week with a global review and notes on key takeaways:
- Molecule is language-agnostic, deterministic, and binary-compact.  
- It ensures the same serialization logic across Rust, JavaScript, and the CKB runtime.  
- CCC’s Molecule SDK abstracts much of the manual encoding, making it developer-friendly while preserving full control.

---

##  Summary of the Week
Khalil developed a deep understanding of CKB data serialization through Molecule, mastering both theoretical and practical aspects:
- Molecule’s encoding rules and type system  
- CCC SDK integration for serialization in JavaScript  
- The RPG example as a realistic case of schema composition  
- The fundamentals of signing and verifying transactions in CKB

---

##  Challenges & Reflections
- The Molecule documentation is dense; it required multiple reads to fully understand offset-based serialization.  
- Implementing examples in JS helped make abstract ideas tangible.  
- Multisig witness serialization was complex but enlightening.

---

##  Next Week’s Goals
- Begin hands-on implementation of Molecule serialization using TypeScript.  
- Start experimenting with custom script schemas.  
- Build a minimal demo dApp interacting with Molecule-encoded data.

---

**Report by:** Khalil  
**Period:** 27 Oct – 3 Nov 2025
